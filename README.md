# Музейный проект

## Требования
- Python 3.x
- pip (менеджер пакетов Python)
- Node.js и npm (для frontend части)

## Установка и запуск

### Вариант 1: Автоматический запуск (рекомендуется)

1. 0ткройте терминал в корневой директории проекта
2. Сделайте скрипт запуска исполняемым:
   ```bash
   chmod +x run.sh
   ```
3. Запустите скрипт:
   ```bash
   ./run.sh
   ```

Скрипт автоматически:
- Создаст виртуальное окружение Python
- Установит все необходимые зависимости
- Применит миграции базы данных
- Создаст суперпользователя (логин: admin, пароль: admin)
- Запустит сервер разработки

### Вариант 2: Ручная установка

#### Backend

1. Создайте виртуальное окружение:
   ```bash
   python3 -m venv venv
   ```

2. Активируйте виртуальное окружение:
   - На Linux/Mac:
     ```bash
     source venv/bin/activate
     ```
   - На Windows:
     ```bash
     venv\Scripts\activate
     ```

3. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

4. Перейдите в директорию backend:
   ```bash
   cd backend
   ```

5. Примените миграции:
   ```bash
   python manage.py makemigrations
   python manage.py migrate
   ```

6. Создайте суперпользователя:
   ```bash
   python manage.py createsuperuser
   ```

7. Запустите сервер разработки:
   ```bash
   python manage.py runserver
   ```

#### Frontend

1. Перейдите в директорию frontend:
   ```bash
   cd frontend
   ```

2. Установите зависимости:
   ```bash
   npm install
   ```

3. Запустите приложение:
   ```bash
   npm start
   ```

## Доступ к приложению

- Backend API будет доступен по адресу: http://localhost:8000
- Frontend приложение будет доступно по адресу: http://localhost:3000
- Админ-панель Django: http://localhost:8000/admin
  - Логин: admin
  - Пароль: admin

## Примечания

- Убедитесь, что порты 8000 и 3000 свободны перед запуском
- Для остановки сервера используйте Ctrl+C в терминале
- При возникновении проблем с зависимостями попробуйте обновить pip:
  ```bash
  pip install --upgrade pip
  ```

# Палеонтологический музей — запуск и инструкция

## О проекте и его назначение

Этот проект — современное веб-приложение для Палеонтологического музея им. Ю.А. Орлова. Он предназначен для:
- **Гостей и посетителей музея** — чтобы удобно узнавать о событиях, выставках, покупать билеты, регистрироваться на мероприятия и управлять своим профилем.
- **Сотрудников и администрации** — для управления экспонатами, событиями, пользователями через админ-панель.

### Основные задачи, которые решает проект:
- Дает возможность онлайн-регистрации и авторизации пользователей
- Позволяет просматривать афишу событий, выставок, экскурсий
- Позволяет регистрироваться на события (в том числе бесплатно)
- Позволяет покупать билеты (или видеть их в профиле)
- Вести личный кабинет с балансом, историей событий и билетов
- Красиво презентует музей (параллакс-баннер, современный дизайн)
- Предоставляет удобную админку для сотрудников

---

## Функционал проекта

- **Главная страница**
  - Параллакс-баннер с фото музея
  - Краткое описание, быстрый переход к событиям, экспонатам, билетам

- **Регистрация и авторизация**
  - Удобные формы для создания аккаунта и входа
  - Валидация данных, проверка уникальности email/логина

- **Профиль пользователя**
  - Отображение личных данных (имя, email, дата регистрации)
  - Баланс (пополнение — пока в разработке)
  - Список всех купленных билетов и событий, на которые зарегистрирован пользователь

- **События**
  - Просмотр всех предстоящих событий (лекции, экскурсии, выставки)
  - Фильтрация по типу события
  - Возможность зарегистрироваться на событие бесплатно (отображается в профиле)
  - Возможность купить билет (если реализовано)

- **Экспонаты**
  - Просмотр коллекции экспонатов музея
  - Описание, фото, категории

- **Билеты**
  - Покупка билетов онлайн (если реализовано)
  - Выбор типа билета, даты посещения

- **Админ-панель (Django)**
  - Управление пользователями, событиями, экспонатами, билетами
  - Только для сотрудников/администраторов

- **Современный дизайн и адаптивность**
  - Красивый внешний вид, адаптация под мобильные устройства
  - Параллакс-эффект на главной странице

---

## 1. Клонирование репозитория

1. Установите [Git](https://git-scm.com/downloads) (если не установлен)
2. Откройте терминал/PowerShell и выполните:
   ```sh
   git clone https://github.com/ВАШ_РЕПОЗИТОРИЙ/diplom_muzei.git
   cd diplom_muzei
   ```

---

## 2. Установка Python и Node.js

- Скачайте и установите [Python 3.10+](https://www.python.org/downloads/windows/)
  - При установке поставьте галочку **"Add Python to PATH"**
- Скачайте и установите [Node.js LTS](https://nodejs.org/)

---

## 3. Запуск backend (Django)

1. Перейдите в папку backend:
   ```sh
   cd backend
   ```
2. Создайте виртуальное окружение:
   ```sh
   python -m venv venv
   venv\Scripts\activate  # Windows
   # или
   source venv/bin/activate  # Linux/Mac
   ```
3. Установите зависимости:
   ```sh
   pip install -r requirements.txt
   ```
4. Примените миграции и создайте суперпользователя:
   ```sh
   python manage.py migrate
   python manage.py createsuperuser
   ```
5. Запустите сервер:
   ```sh
   python manage.py runserver
   ```
6. Backend будет доступен по адресу: http://127.0.0.1:8000/

---

## 4. Запуск frontend (статические файлы)

1. Перейдите в папку frontend:
   ```sh
   cd ../frontend
   ```
2. Если используется Node.js (например, для сборки или dev-сервера):
   ```sh
   npm install
   npm start
   ```
   Обычно достаточно открыть HTML-файлы напрямую или через Django static.

---

## 5. Структура проекта

- `backend/` — Django backend (API, модели, админка)
- `frontend/` — HTML-шаблоны, CSS, JS, изображения
- `frontend/static/images/orlov-museum.jpg` — фото для параллакса на главной

---

## 6. Основной функционал

- **Регистрация/авторизация** — через формы на сайте
- **Профиль** — отображает ваши данные, баланс, активные события
- **Пополнение баланса** — кнопка (пока в разработке)
- **События** — можно зарегистрироваться бесплатно (отобразится в профиле)
- **Параллакс** — на главной странице красивый баннер с фото музея

---

## 7. Примечания и советы

- Если порт 8000 занят, запустите backend на другом порту: `python manage.py runserver 8001`
- Если не отображается фото параллакса, убедитесь, что файл `orlov-museum.jpg` лежит в `frontend/static/images/`
- Для остановки сервера используйте Ctrl+C
- Для сброса базы данных удалите `db.sqlite3` и папку `__pycache__`, затем снова примените миграции
- Админка Django: http://127.0.0.1:8000/admin (логин/пароль — как создадите)
- Админка сайта: http://127.0.0.1:8000/admin-panel/ (логин/пароль — как создадите)
---

## 8. Контакты

Если возникли вопросы — пишите!

---

## 9. Быстрый запуск через run.sh (Linux/Mac)

В проекте есть скрипт `run.sh`, который автоматизирует запуск backend:

- Создаёт виртуальное окружение (если его нет)
- Активирует окружение
- Обновляет pip
- Устанавливает все зависимости из requirements.txt
- Устанавливает Pillow отдельно
- Переходит в папку backend
- Применяет миграции
- Создаёт суперпользователя с логином `admin` и email `admin@example.com` (без пароля, нужно будет задать вручную при первом входе)
- Запускает сервер Django

**Как использовать:**
1. Откройте терминал в корне проекта
2. Сделайте скрипт исполняемым:
   ```sh
   chmod +x run.sh
   ```
3. Запустите:
   ```sh
   ./run.sh
   ```

> ⚠️ Скрипт предназначен для Linux/Mac. На Windows используйте ручные шаги из инструкции выше.

---

**Удачи! Если что — пиши!** 
